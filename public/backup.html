<!DOCTYPE html>
<html>

<head>
    <title>james brown breakbeat generator</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" integrity="sha384-OHBBOqpYHNsIqQy8hL1U+8OXf9hH6QRxi0+EODezv82DfnZoV7qoHAZDwMwEJvSw" crossorigin="anonymous">
</head>

<body>
    <div class="wrapper">
        <h1 class="animated infinite flash">THE JAMES BROWN BREAKBEAT GENERATOR</h1>
        <!-- <button id="start">HIT MEH!</button> -->
        <button id="change">HIT MEH!</button>
        <button id="stop">STOP MEH!</button>
        <script src="assets/js/loopify.js" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>
        var bg = ['assets/gifs/flippity.gif', 'assets/gifs/moonwalk.gif', 'assets/gifs/rev.gif', 'assets/gifs/spinz.gif', 'assets/gifs/splitz.gif', ],
            selectBG = bg[Math.floor(Math.random() * bg.length)];

        $('body').css('background', 'url(' + selectBG + ')')

        document.getElementById("change").addEventListener("click", function() {
            location.reload();
        });

        var musicArray = ["assets/audio/cold.wav", "assets/audio/funky.wav", "assets/audio/give.wav", "assets/audio/hustle.wav", "assets/audio/proud.wav"]
        var musicChoice = musicArray[Math.floor(Math.random() * musicArray.length)];

        music(musicChoice)

        function music(musicChoice) {
            loopify(musicChoice, ready);

            function ready(err, loop) {
                if (err) {
                    console.warn(err);
                }
                loop.play();
                document.getElementById("stop").addEventListener("click", function() {
                    loop.stop();
                });
            }
        }
        </script>
    </div>
</body>

</html>